!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/codebase/",n(n.s=20)}([function(t,e,n){"use strict";n.d(e,"d",function(){return B}),n.d(e,"b",function(){return m}),n.d(e,"c",function(){return f}),n.d(e,"a",function(){return g});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(e){s(this,t),this.webixJet=!0,this.webix=e,this._events=[],this._subs={},this._data={}}return t.prototype.getRoot=function(){return this._root},t.prototype.destructor=function(){this._detachEvents(),this._destroySubs(),this._events=this._container=this.app=this._parent=this._root=null},t.prototype.setParam=function(t,e,n){this._data[t]!==e&&(this._data[t]=e,this._segment.update(t,e,0),n&&this.show(null))},t.prototype.getParam=function(t,e){var n=this._data[t];if(void 0!==n||!e)return n;var r=this.getParentView();return r?r.getParam(t,e):void 0},t.prototype.getUrl=function(){return this._segment.suburl()},t.prototype.getUrlString=function(){return this._segment.toString()},t.prototype.getParentView=function(){return this._parent},t.prototype.$$=function(t){if("string"==typeof t){var e=this.getRoot();return e.queryView(function(n){return(n.config.id===t||n.config.localId===t)&&n.$scope===e.$scope},"self")}return t},t.prototype.on=function(t,e,n){var r=t.attachEvent(e,n);return this._events.push({obj:t,id:r}),r},t.prototype.contains=function(t){for(var e in this._subs){var n=this._subs[e].view;if(n===t||n.contains(t))return!0}return!1},t.prototype.getSubView=function(t){var e=this.getSubViewInfo(t);if(e)return e.subview.view},t.prototype.getSubViewInfo=function(t){var e=this._subs[t||"default"];return e?{subview:e,parent:this}:"_top"===t?(this._subs[t]={url:"",id:null,popup:!0},this.getSubViewInfo(t)):this._parent?this._parent.getSubViewInfo(t):null},t.prototype._detachEvents=function(){for(var t=this._events,e=t.length-1;e>=0;e--)t[e].obj.detachEvent(t[e].id)},t.prototype._destroySubs=function(){for(var t in this._subs){var e=this._subs[t].view;e&&e.destructor()}this._subs={}},t.prototype._init_url_data=function(){var t=this._segment.current();this._data={},this.webix.extend(this._data,t.params,!0)},t.prototype._getDefaultSub=function(){if(this._subs.default)return this._subs.default;for(var t in this._subs){var e=this._subs[t];if(!e.branch&&e.view&&"_top"!==t){var n=e.view._getDefaultSub();if(n)return n}}},t.prototype._routed_view=function(){var t=this.getParentView();if(!t)return!0;var e=t._getDefaultSub();return!(!e&&e!==this)&&t._routed_view()},t}();function u(t){"/"===t[0]&&(t=t.substr(1));for(var e=t.split("/"),n=[],r=0;r<e.length;r++){var o=e[r],i={},s=o.indexOf(":");if(-1===s&&(s=o.indexOf("?")),-1!==s){var a=o.substr(s+1).split(/[\:\?\&]/g),u=Array.isArray(a),c=0;for(a=u?a:a[Symbol.iterator]();;){var p;if(u){if(c>=a.length)break;p=a[c++]}else{if((c=a.next()).done)break;p=c.value}var l=p.split("=");i[l[0]]=decodeURIComponent(l[1])}}n[r]={page:s>-1?o.substr(0,s):o,params:i,isNew:!0}}return n}function c(t){var e=[],n=t,r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if((o=n.next()).done)break;i=o.value}var s=i;e.push("/"+s.page);var a=p(s.params);a&&e.push("?"+a)}return e.join("")}function p(t){var e=[];for(var n in t)e.length&&e.push("&"),e.push(n+"="+encodeURIComponent(t[n]));return e.join("")}var l=function(){function t(e,n){s(this,t),this._next=1,this.route="string"==typeof e?{url:u(e),path:e}:e,this.index=n}return t.prototype.current=function(){return this.route.url[this.index]},t.prototype.next=function(){return this.route.url[this.index+this._next]},t.prototype.suburl=function(){return this.route.url.slice(this.index)},t.prototype.shift=function(){return new t(this.route,this.index+this._next)},t.prototype.refresh=function(){for(var t=this.route.url,e=this.index+1;e<t.length;e++)t[e].isNew=!0},t.prototype.toString=function(){var t=c(this.suburl());return t?t.substr(1):""},t.prototype._join=function(t,e){var n=this.route.url;if(null===t)return n;var r=this.route.url;if(n=r.slice(0,this.index+(e?this._next:0)),t){n=n.concat(u(t));for(var o=0;o<n.length;o++)r[o]&&(n[o].view=r[o].view),r[o]&&n[o].page===r[o].page&&(n[o].isNew=!1)}return n},t.prototype.append=function(t){var e=this._join(t,!0);return this.route.path=c(e),this.route.url=e,this.route.path},t.prototype.show=function(t,e,n){var r=this,o=this._join(t,n);return new Promise(function(t,n){var i=c(o),s={url:o,redirect:i,confirm:Promise.resolve()},a=e?e.app:null;if(a&&!a.callEvent("app:guard",[s.redirect,e,s]))return void n();s.confirm.catch(function(){return s.redirect=null}).then(function(){if(null!==s.redirect){if(s.redirect!==i)return a.show(s.redirect),void n();r.route.path=i,r.route.url=o,t()}else n()})})},t.prototype.size=function(t){this._next=t},t.prototype.split=function(){var e={url:this.route.url.slice(this.index+1),path:""};return e.url.length&&(e.path=c(e.url)),new t(e,0)},t.prototype.update=function(t,e,n){var r=this.route.url[this.index+(n||0)];if(!r)return this.route.url.push({page:"",params:{}}),this.update(t,e,n);""===t?r.page=e:r.params[t]=e,this.route.path=c(this.route.url)},t}(),f=function(t){function e(n,r){s(this,e);var i=o(this,t.call(this,n.webix));return i.app=n,i._children=[],i}return i(e,t),e.prototype.ui=function(t,e){var n=(e=e||{}).container||t.container,o=this.app.createView(t);return this._children.push(o),o.render(n,this._segment,this),"object"!==(void 0===t?"undefined":r(t))||t instanceof a?o:o.getRoot()},e.prototype.show=function(t,e){if(e=e||{},"object"===(void 0===t?"undefined":r(t))){for(var n in t)this.setParam(n,t[n]);t=null}else{if("/"===t.substr(0,1))return this.app.show(t);if(0===t.indexOf("./")&&(t=t.substr(2)),0===t.indexOf("../")){var o=this.getParentView();return o?o.show(t.substr(3),e):this.app.show("/"+t.substr(3))}var i=this.getSubViewInfo(e.target);if(i){if(i.parent!==this)return i.parent.show(t,e);if(e.target&&"default"!==e.target)return this._renderFrameLock(e.target,i.subview,t)}else if(t)return this.app.show("/"+t)}return this._show(this._segment,t,this)},e.prototype._show=function(t,e,n){var r=this;return t.show(e,n,!0).then(function(){return r._init_url_data(),r._urlChange()}).then(function(){t.route.linkRouter&&(r.app.getRouter().set(t.route.path,{silent:!0}),r.app.callEvent("app:route",[t.route.path]))})},e.prototype.init=function(t,e){},e.prototype.ready=function(t,e){},e.prototype.config=function(){this.app.webix.message("View:Config is not implemented")},e.prototype.urlChange=function(t,e){},e.prototype.destroy=function(){},e.prototype.destructor=function(){this.destroy(),this._destroyKids(),this._root.destructor(),t.prototype.destructor.call(this)},e.prototype.use=function(t,e){t(this.app,this,e)},e.prototype.refresh=function(){this.getUrl();return this.destroy(),this._destroyKids(),this._destroySubs(),this._detachEvents(),this._container.tagName&&this._root.destructor(),this._segment.refresh(),this._render(this._segment)},e.prototype.render=function(t,e,n){var r=this;"string"==typeof e&&(e=new l(e,0)),this._segment=e,this._parent=n,this._init_url_data();var o="string"==typeof(t=t||document.body)?this.webix.toNode(t):t;return this._container!==o?(this._container=o,this._render(e)):this._urlChange().then(function(){return r.getRoot()})},e.prototype._render=function(t){var e=this,n=this.config();return n.then?n.then(function(n){return e._render_final(n,t)}):this._render_final(n,t)},e.prototype._render_final=function(t,e){var n=this,r=null,o=null,i=!1;if(this._container.tagName?o=this._container:(r=this._container).popup?(o=document.body,i=!0):o=this.webix.$$(r.id),!this.app||!o)return Promise.reject(null);var s=void 0,a=this._segment.current(),u={ui:{}};this.app.copyConfig(t,u.ui,this._subs),this.app.callEvent("app:render",[this,e,u]),u.ui.$scope=this,!r&&a.isNew&&a.view&&a.view.destructor();try{if(r&&!i){var c=o,p=c.getParentView();p&&"multiview"===p.name&&!u.ui.id&&(u.ui.id=c.config.id)}this._root=this.app.webix.ui(u.ui,o);var l=this._root;i&&l.setPosition&&!l.isVisible()&&l.show(),r&&(r.view&&r.view!==this&&r.view!==this.app&&r.view.destructor(),r.id=this._root.config.id,this.getParentView()||!this.app.app?r.view=this:r.view=this.app),a.isNew&&(a.view=this,a.isNew=!1),s=Promise.resolve(this._init(this._root,e)).then(function(){return n._urlChange().then(function(){return n._initUrl=null,n.ready(n._root,e.suburl())})})}catch(t){s=Promise.reject(t)}return s.catch(function(t){return n._initError(n,t)})},e.prototype._init=function(t,e){return this.init(t,e.suburl())},e.prototype._urlChange=function(){var t=this;this.app.callEvent("app:urlchange",[this,this._segment]);var e=[];for(var n in this._subs){var r=this._subs[n],o=this._renderFrameLock(n,r,null);o&&e.push(o)}return Promise.all(e).then(function(){return t.urlChange(t._root,t._segment.suburl())})},e.prototype._renderFrameLock=function(t,e,n){if(!e.lock){var r=this._renderFrame(t,e,n);r&&(e.lock=r.then(function(){return e.lock=null},function(){return e.lock=null}))}return e.lock},e.prototype._renderFrame=function(t,e,n){var r=this;if("default"===t){if(this._segment.next())return this._createSubView(e,this._segment.shift());e.view&&e.popup&&(e.view.destructor(),e.view=null)}if(null!==n&&(e.url=n),e.route){if(null!==n)return e.route.show(n,e.view).then(function(){return r._createSubView(e,e.route)});if(e.branch)return}var o=e.view;if(!o&&e.url){if("string"==typeof e.url)return e.route=new l(e.url,0),this._createSubView(e,e.route);"function"!=typeof e.url||o instanceof e.url||(o=new e.url(this.app,"")),o||(o=e.url)}if(o)return o.render(e,e.route||this._segment,this)},e.prototype._initError=function(t,e){return this.app&&this.app.error("app:error:initview",[e,t]),!0},e.prototype._createSubView=function(t,e){var n=this;return this.app.createFromURL(e.current(),t.view).then(function(r){return r.render(t,e,n)})},e.prototype._destroyKids=function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e]&&t[e].destructor&&t[e].destructor();this._children=[]},e}(a),h=function(t){function e(n,r){s(this,e);var i=o(this,t.call(this,n,r));return i._ui=r.ui,i}return i(e,t),e.prototype.config=function(){return this._ui},e}(f),d=function(){function t(e,n,r){s(this,t),this.path="",this.app=r}return t.prototype.set=function(t,e){this.path=t;var n=this.app;n.app.getRouter().set(n._segment.append(this.path),{silent:!0})},t.prototype.get=function(){return this.path},t}(),w=!0,v=function(t){function e(n){s(this,e);var r=(n||{}).webix||window.webix,i=o(this,t.call(this,r));return i.config=i.webix.extend({name:"App",version:"1.0",start:"/home"},n,!0),i.app=i.config.app,i.ready=Promise.resolve(),i._services={},i.webix.extend(i,i.webix.EventSystem),i}return i(e,t),e.prototype.getUrl=function(){return this._subSegment.suburl()},e.prototype.getUrlString=function(){return this._subSegment.toString()},e.prototype.getService=function(t){var e=this._services[t];return"function"==typeof e&&(e=this._services[t]=e(this)),e},e.prototype.setService=function(t,e){this._services[t]=e},e.prototype.destructor=function(){this.getSubView().destructor(),t.prototype.destructor.call(this)},e.prototype.copyConfig=function(t,e,n){if((t instanceof a||"function"==typeof t&&t.prototype instanceof a)&&(t={$subview:t}),void 0!==t.$subview)return this.addSubView(t,e,n);for(var o in e=e||(t instanceof Array?[]:{}),t){var i=t[o];if("function"==typeof i&&i.prototype instanceof a&&(i={$subview:i}),!i||"object"!==(void 0===i?"undefined":r(i))||i instanceof this.webix.DataCollection||i instanceof RegExp)e[o]=i;else if(i instanceof Date)e[o]=new Date(i);else{var s=this.copyConfig(i,i instanceof Array?[]:{},n);null!==s&&(e[o]=s)}}return e},e.prototype.getRouter=function(){return this.$router},e.prototype.clickHandler=function(t){if(t){var e=t.target||t.srcElement;if(e&&e.getAttribute){var n=e.getAttribute("trigger");n&&this._forView(e,function(t){return t.app.trigger(n)});var r=e.getAttribute("route");r&&this._forView(e,function(t){return t.show(r)})}}},e.prototype.getRoot=function(){return this.getSubView().getRoot()},e.prototype.refresh=function(){var t=this;return this._subSegment?this.getSubView().refresh().then(function(e){return t.callEvent("app:route",[t.getUrl()]),e}):Promise.resolve(null)},e.prototype.loadView=function(t){var e=this,n=this.config.views,r=null;if(""===t)return Promise.resolve(this._loadError("",new Error("Webix Jet: Empty url segment")));try{n&&"string"==typeof(r="function"==typeof n?n(t):n[t])&&(t=r,r=null),r||(r="_blank"===t?{}:this._loadViewDynamic(t))}catch(e){r=this._loadError(t,e)}return r.then||(r=Promise.resolve(r)),r=r.then(function(t){return t.__esModule?t.default:t}).catch(function(n){return e._loadError(t,n)})},e.prototype._forView=function(t,e){var n=this.webix.$$(t);n&&e(n.$scope)},e.prototype._loadViewDynamic=function(t){return null},e.prototype.createFromURL=function(t,e){var n=this;return t.isNew||!t.view?this.loadView(t.page).then(function(t){return n.createView(t,name)}):Promise.resolve(t.view)},e.prototype.createView=function(t,n){if("function"==typeof t){if(t.prototype instanceof e)return new t({app:this,name:n,router:d});if(t.prototype instanceof a)return new t(this,{name:n});t=t(this)}return t instanceof a?t:new h(this,{name:n,ui:t})},e.prototype.show=function(t){return this.render(this._container,t||this.config.start)},e.prototype.trigger=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.apply(t,n)},e.prototype.apply=function(t,e){this.callEvent(t,e)},e.prototype.action=function(t){return this.webix.bind(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];this.apply(t,n)},this)},e.prototype.on=function(t,e){this.attachEvent(t,e)},e.prototype.use=function(t,e){t(this,null,e)},e.prototype.error=function(t,e){if(this.callEvent(t,e),this.callEvent("app:error",e),this.config.debug)for(var n=0;n<e.length;n++)if(console.error(e[n]),e[n]instanceof Error){var r=e[n].message;0===r.indexOf("Module build failed")?(r=r.replace(/\x1b\[[0-9;]*m/g,""),document.body.innerHTML="<pre style='font-size:16px; background-color: #ec6873; color: #000; padding:10px;'>"+r+"</pre>"):(r+="<br><br>Check console for more details",this.webix.message({type:"error",text:r,expire:-1}))}},e.prototype.render=function(t,e,n){var r=this;this._container="string"==typeof t?this.webix.toNode(t):t||document.body;var o=null;!this.$router?(w&&(this.webix.attachEvent("onClick",function(t){return r.clickHandler(t)}),w=!1),"string"==typeof e&&(e=new l(e,0)),this._subSegment=this._first_start(e),this._subSegment.route.linkRouter=!0):o="string"==typeof e?e:this.app?e.split().route.path||this.config.start:e.toString();var i=this.getSubView(),s=this._subSegment,a=s.show(o,i).then(function(){return r.createFromURL(s.current(),i)}).then(function(e){return e.render(t,s)}).then(function(t){return r.$router.set(s.route.path,{silent:!0}),r.callEvent("app:route",[r.getUrl()]),t});return this.ready=this.ready.then(function(){return a}),a},e.prototype.getSubView=function(){if(this._subSegment){var t=this._subSegment.current().view;if(t)return t}return new f(this,{})},e.prototype._first_start=function(t){var e=this;this._segment=t;if(this.$router=new this.config.router(function(t){return setTimeout(function(){e.show(t)},1)},this.config,this),this._container===document.body&&!1!==this.config.animation){var n=this._container;this.webix.html.addCss(n,"webixappstart"),setTimeout(function(){e.webix.html.removeCss(n,"webixappstart"),e.webix.html.addCss(n,"webixapp")},10)}if(t)this.app&&(t.current().view=this,t=t.next()?t.split():new l(this.config.start,0));else{var r=this.$router.get();r||(r=this.config.start,this.$router.set(r,{silent:!0})),t=new l(r,0)}return t},e.prototype._loadError=function(t,e){return this.error("app:error:resolve",[e,t]),{template:" "}},e.prototype.addSubView=function(t,e,n){var r=!0!==t.$subview?t.$subview:null,o=t.name||(r?this.webix.uid():"default");return e.id=t.id||"s"+this.webix.uid(),(n[o]={id:e.id,url:r,branch:t.branch,popup:t.popup}).popup?null:e},e}(a),g=function(){function t(e,n){var r=this;s(this,t),this.config=n||{},this._detectPrefix(),this.cb=e,window.onpopstate=function(){return r.cb(r.get())}}return t.prototype.set=function(t,e){var n=this;if(this.config.routes){var r=t.split("?",2);for(var o in this.config.routes)if(this.config.routes[o]===r[0]){t=o+(r.length>1?"?"+r[1]:"");break}}this.get()!==t&&window.history.pushState(null,null,this.prefix+this.sufix+t),e&&e.silent||setTimeout(function(){return n.cb(t)},1)},t.prototype.get=function(){var t=this._getRaw().replace(this.prefix,"").replace(this.sufix,"");if(t="/"!==t?t:"",this.config.routes){var e=t.split("?",2),n=this.config.routes[e[0]];n&&(t=n+(e.length>1?"?"+e[1]:""))}return t},t.prototype._detectPrefix=function(){var t=this.config.routerPrefix;this.sufix="#"+(void 0===t?"!":t),this.prefix=document.location.href.split("#",2)[0]},t.prototype._getRaw=function(){return document.location.href},t}(),y=!1;function b(t){if(!y&&t){y=!0;var e=window;e.Promise||(e.Promise=t.promise);var n=t.version.split(".");10*n[0]+1*n[1]<53&&(t.ui.freeze=function(e){var n=e();return n&&n.then?n.then(function(e){return t.ui.$freeze=!1,t.ui.resize(),e}):(t.ui.$freeze=!1,t.ui.resize()),n});var o=t.ui.baselayout.prototype.addView,i=t.ui.baselayout.prototype.removeView,s={addView:function(t,e){var n=this;if(!this.$scope||!this.$scope.webixJet||t.queryView)return o.apply(this,arguments);var i=function(){var r=n.$scope,i={};t=r.app.copyConfig(t,{},i),o.apply(n,[t,e]);var s=function(t){r._renderFrame(t,i[t],null).then(function(){r._subs[t]=i[t]})};for(var a in i)s(a);return{v:t.id}}();return"object"===(void 0===i?"undefined":r(i))?i.v:void 0},removeView:function(){if(i.apply(this,arguments),this.$scope&&this.$scope.webixJet){var e=this.$scope._subs;for(var n in e){var r=e[n];t.$$(r.id)||(r.view.destructor(),delete e[n])}}}};t.extend(t.ui.layout.prototype,s,!0),t.extend(t.ui.baselayout.prototype,s,!0),t.protoUI({name:"jetapp",$init:function(e){this.$app=new this.app(e);var n=t.uid().toString();for(var r in e.body={id:n},this.$ready.push(function(){this.$app.render({id:n})}),this.$app){var o=this.$app[r];"function"!=typeof o||this[r]||(this[r]=o.bind(this.$app))}}},t.ui.proxy)}}var m=function(t){function e(n){s(this,e),n.router=n.router||g;var r=o(this,t.call(this,n));return b(r.webix),r}return i(e,t),e.prototype._loadViewDynamic=function(t){return t=t.replace(/\./g,"/"),n(22)("./"+t)},e}(v);(function(){function t(e,n,r){s(this,t),this.storage=n.storage||r.webix.storage.session,this.name=n.storeName||n.id+":route",this.cb=e}t.prototype.set=function(t,e){var n=this;this.storage.put(this.name,t),e&&e.silent||setTimeout(function(){return n.cb(t)},1)},t.prototype.get=function(){return this.storage.get(this.name)}})(),function(t){function e(){return s(this,e),o(this,t.apply(this,arguments))}i(e,t),e.prototype._detectPrefix=function(){this.prefix="",this.sufix=this.config.routerPrefix||""},e.prototype._getRaw=function(){return document.location.pathname}}(g),function(){function t(e,n){s(this,t),this.path="",this.cb=e}t.prototype.set=function(t,e){var n=this;this.path=t,e&&e.silent||setTimeout(function(){return n.cb(t)},1)},t.prototype.get=function(){return this.path}}();function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function x(t,e,n){for(var r in t)_(t,r)&&e.call(n||t,t[r],r,t)}function O(t){t="Warning: "+t,"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(t){}}var S=String.prototype.replace,E=String.prototype.split,j="||||",$=function(t){var e=t%10;return 11!==t&&1===e?0:2<=e&&e<=4&&!(t>=12&&t<=14)?1:2},P={arabic:function(t){if(t<3)return t;var e=t%100;return e>=3&&e<=10?3:e>=11?4:5},bosnian_serbian:$,chinese:function(){return 0},croatian:$,french:function(t){return t>1?1:0},german:function(t){return 1!==t?1:0},russian:$,lithuanian:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=9&&(t%100<11||t%100>19)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){if(1===t)return 0;var e=t%10;return 2<=e&&e<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0},slovenian:function(t){var e=t%100;return 1===e?0:2===e?1:3===e||4===e?2:3}},C={arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]};function V(t){var e,n=(e={},x(C,function(t,n){x(t,function(t){e[t]=n})}),e);return n[t]||n[E.call(t,/-/,1)[0]]||n.en}function T(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var I=/\$/g,R="$$",k=/%\{(.*?)\}/g;function L(t,e,n,r){if("string"!=typeof t)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==e)return t;var o=t,i=r||k,s="number"==typeof e?{smart_count:e}:e;if(null!=s.smart_count&&o){var a=E.call(o,j);o=(a[function(t,e){return P[V(t)](e)}(n||"en",s.smart_count)]||a[0]).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}return o=S.call(o,i,function(t,e){return _(s,e)&&null!=s[e]?S.call(s[e],I,R):t})}function F(t){var e=t||{};this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en";var n=e.allowMissing?L:null;this.onMissingKey="function"==typeof e.onMissingKey?e.onMissingKey:n,this.warn=e.warn||O,this.tokenRegex=function(t){var e=t&&t.prefix||"%{",n=t&&t.suffix||"}";if(e===j||n===j)throw new RangeError('"'+j+'" token is reserved for pluralization');return new RegExp(T(e)+"(.*?)"+T(n),"g")}(e.interpolation)}F.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},F.prototype.extend=function(t,e){x(t,function(t,n){var o=e?e+"."+n:n;"object"===(void 0===t?"undefined":r(t))?this.extend(t,o):this.phrases[o]=t},this)},F.prototype.unset=function(t,e){"string"==typeof t?delete this.phrases[t]:x(t,function(t,n){var o=e?e+"."+n:n;"object"===(void 0===t?"undefined":r(t))?this.unset(t,o):delete this.phrases[o]},this)},F.prototype.clear=function(){this.phrases={}},F.prototype.replace=function(t){this.clear(),this.extend(t)},F.prototype.t=function(t,e){var n,r,o=null==e?{}:e;if("string"==typeof this.phrases[t])n=this.phrases[t];else if("string"==typeof o._)n=o._;else if(this.onMissingKey){r=(0,this.onMissingKey)(t,o,this.currentLocale,this.tokenRegex)}else this.warn('Missing translation for key: "'+t+'"'),r=t;return"string"==typeof n&&(r=L(n,o,this.currentLocale,this.tokenRegex)),r},F.prototype.has=function(t){return _(this.phrases,t)},F.transformPhrase=function(t,e,n){return L(t,e,n)};var A=F;function W(t,e,n){if(e.urls)n=e.urls[n]||n;else if(e.param){var r;(r={})[e.param]=n,n=r}t.show(n)}var D={good:"check",error:"warning",saving:"refresh fa-spin"},N={good:"Ok",error:"Error",saving:"Connecting..."};function U(t,e,n){for(var r=0;r<n.length;r++)t[n[r]]=e[r+1]?e[r+1].page:""}var M=window.webix;M&&b(M);var B={UnloadGuard:function(t,e,n){e.on(t,"app:guard",function(t,r,o){if(r===e||r.contains(e)){var i=n();o.confirm=!1===i?Promise.reject(i):o.confirm.then(function(){return i})}})},Locale:function(t,e,r){var o=(r=r||{}).storage,i=o?o.get("lang")||"en":r.lang||"en";function s(e,n,s){n.__esModule&&(n=n.default);var a={phrases:n};r.polyglot&&t.webix.extend(a,r.polyglot);var c=u.polyglot=new A(a);if(c.locale(e),u._=t.webix.bind(c.t,c),i=e,o&&o.put("lang",i),r.webix){var p=r.webix[e];p&&t.webix.i18n.setLocale(p)}return s?Promise.resolve():t.refresh()}function a(t,e){if(!1!==r.path){var o=(r.path?r.path+"/":"")+t;s(t,n(23)("./"+o),e)}}var u={getLang:function(){return i},setLang:a,setLangData:s,_:null,polyglot:null};t.setService("locale",u),a(i,!0)},Menu:function(t,e,n){var r=e.getSubViewInfo().parent,o=e.$$(n.id||n),i=!1;o.attachEvent("onchange",function(){i||W(r,n,this.getValue())}),o.attachEvent("onafterselect",function(){if(!i){var t=null;o.setValue?t=this.getValue():o.getSelectedId&&(t=o.getSelectedId()),W(r,n,t)}}),e.on(t,"app:route",function(){var t="";if(n.param)t=e.getParam(n.param,!0);else{var s=r.getUrl()[1];s&&(t=s.page)}t&&(i=!0,o.setValue&&o.getValue()!==t?o.setValue(t):o.select&&o.exists(t)&&o.getSelectedId()!==t&&o.select(t),i=!1)})},Theme:function(t,e,n){var r=(n=n||{}).storage,o=r?r.get("theme")||"flat-default":n.theme||"flat-default",i={getTheme:function(){return o},setTheme:function(e,n){for(var i=e.split("-"),s=document.getElementsByTagName("link"),a=0;a<s.length;a++){var u=s[a].getAttribute("title");u&&(u===e||u===i[0]?s[a].disabled=!1:s[a].disabled=!0)}t.webix.skin.set(i[0]),t.webix.html.removeCss(document.body,"theme-"+o),t.webix.html.addCss(document.body,"theme-"+e),o=e,r&&r.put("theme",e),n||t.refresh()}};t.setService("theme",i),i.setTheme(o,!0)},User:function(t,e,n){var r=(n=n||{}).login||"/login",o=n.logout||"/logout",i=n.afterLogin||t.config.start,s=n.afterLogout||"/login",a=n.ping||3e5,u=n.model,c=n.user,p={getUser:function(){return c},getStatus:function(t){return t?u.status().catch(function(){return null}).then(function(t){c=t}):null!==c},login:function(e,n){return u.login(e,n).then(function(e){if(c=e,!e)throw new Error("Access denied");t.callEvent("app:user:login",[c]),t.show(i)})},logout:function(){return c=null,u.logout().then(function(e){return t.callEvent("app:user:logout",[]),e})}};function l(t,e){t===o?(p.logout(),e.redirect=s):t===r||p.getStatus()||(e.redirect=r)}t.setService("user",p),t.attachEvent("app:guard",function(t,e,r){return!(!n.public||!n.public(t))||(void 0===c&&(r.confirm=p.getStatus(!0).then(function(){return l(t,r)})),l(t,r))}),a&&setInterval(function(){return p.getStatus(!0)},a)},Status:function(t,e,n){var r="good",o=0,i=!1,s=n.expire;s||!1===s||(s=2e3);var a=n.texts||N,u=n.icons||D;function c(t){var o=e.$$(n.target);o&&(t||(t="<div class='status_"+r+"'><span class='webix_icon fa-"+u[r]+"'></span> "+a[r]+"</div>"),o.setHTML(t))}function p(){o--,d("good")}function l(t){o--,d("error",t)}function f(t){o++,d("saving"),t&&t.then&&t.then(p,l)}function h(){0===o&&c(" ")}function d(e,n){o<0&&(o=0),"saving"===e?(r="saving",c()):(i="error"===e,0===o&&(r=i?"error":"good",i?t.error("app:error:server",[n.responseText||n]):s&&setTimeout(h,s),c()))}function w(n){var r=t.webix.dp(n);r&&(e.on(r,"onAfterDataSend",f),e.on(r,"onAfterSaveError",function(t,e,n){return l(n)}),e.on(r,"onAfterSave",p))}"string"==typeof n&&(n={target:n}),t.setService("status",{getStatus:function(){return r},setStatus:d,track:w}),n.remote&&e.on(t.webix,"onRemoteCall",f),n.ajax&&e.on(t.webix,"onBeforeAjax",function(t,e,n,r,o,i,s){f(s)}),n.data&&w(n.data)},UrlParam:function(t,e,n){var r=n.route||n,o={};e.on(t,"app:urlchange",function(t,n){e===t&&(U(o,n.suburl(),r),n.size(r.length+1))});var i=e.setParam,s=e.getParam;e.setParam=function(t,n,s){var a=r.indexOf(t);return a>=0?(o[t]=n,this._segment.update("",n,a+1),s?e.show(null):void 0):i.call(this,t,n,s)},e.getParam=function(t,e){var n=o[t];return void 0!==n?n:s.call(this,t,e)},U(o,e.getUrl(),r)}},z=window;z.Promise||(z.Promise=z.webix.promise)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=new webix.DataCollection({url:"http://localhost:3000/words/",save:{url:"rest->http://localhost:3000/words/",updateFromResponse:!0}})},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=new webix.DataCollection({url:"http://localhost:3000/languages/",save:{url:"rest->http://localhost:3000/languages/",updateFromResponse:!0}})},function(t,e,n){"use strict";var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.register=function(t){return webix.ajax().post("http://localhost:3000/register",t)},t.prototype.login=function(t){return webix.ajax().post("http://localhost:3000/login",t)},t.prototype.logout=function(){return webix.ajax().get("http://localhost:3000/logout")},t}();e.a=r},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=new webix.DataCollection({url:"http://localhost:3000/groups/",save:{url:"rest->http://localhost:3000/groups/",updateFromResponse:!0},scheme:{$init:function(t){t.creationDate=new Date(t.creationDate)}}})},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=new webix.DataCollection({url:"http://localhost:3000/testresults/",save:{url:"rest->http://localhost:3000/testresults/",updateFromResponse:!0},scheme:{$init:function(t){t.passedDate=new Date(t.passedDate)}}})},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(4);var i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){var t=this;return{view:"window",localId:"formPopup",position:"center",head:"Group name",body:{view:"form",localId:"formView",elements:[{view:"text",name:"groupName",label:""},{margin:20,cols:[{view:"button",type:"form",value:"Save",click:function(){t.saveGroup(),t.hideWindow()}},{view:"button",value:"Cancel",click:function(){t.getRoot().hide()}}]}],rules:{groupName:webix.rules.isNotEmpty}}}},e.prototype.init=function(){this.mainWindow=this.$$("formPopup")},e.prototype.showWindow=function(){this.mainWindow.show()},e.prototype.hideWindow=function(){this.mainWindow.hide()},e.prototype.saveGroup=function(){var t=this.$$("formView"),e=t.getValues();e.creationDate=new Date,o.a.add(e),this.clearForm(t)},e.prototype.clearForm=function(t){t.clearValidation(),t.clear()},e}(r.c);e.default=i},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(2),i=n(1),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.mainRow=function(t,e){var n=this;return{margin:20,cols:[{view:"combo",label:"Language",labelWidth:72,labelAlign:"right",width:180,name:"language"+t,options:{body:{template:"#value#",data:e}}},{view:"text",label:"Translation",labelWidth:82,labelAlign:"right",name:"translation"+t},{view:"button",id:"addTranslation",value:"Add translation",type:"form",width:140,click:function(){n.addTranslation()}}]}},e.prototype.config=function(){var t=this;return{view:"window",localId:"addWordForm",head:"Add word",width:600,position:"center",body:{rows:[{view:"form",localId:"wordForm",elements:[{view:"text",name:"id",localId:"id",hidden:!0},{view:"text",name:"groupId",localId:"groupId",hidden:!0},{view:"label",label:"Original word",height:24},{margin:20,cols:[{view:"combo",label:"Language",labelWidth:72,labelAlign:"right",width:180,name:"languageId",options:{body:{template:"#value#",data:o.a}}},{view:"text",label:"Word",labelWidth:82,labelAlign:"right",name:"word",localId:"originalWord"},{view:"combo",label:"POS",labelWidth:40,labelAlign:"right",width:140,name:"partOfSpeech",options:["Noun","Pronoun","Verb","Adverb"]}]}],rules:{languageId:webix.rules.isNotEmpty,word:webix.rules.isNotEmpty,partOfSpeech:webix.rules.isNotEmpty}},{view:"form",localId:"translationsForm",elements:[{view:"text",name:"wordId",localId:"wordId",hidden:!0},{view:"label",label:"Translations",height:24},this.mainRow(1,o.a)]},{margin:20,paddingY:10,cols:[{},{view:"button",value:"Save",type:"form",localId:"saveBtn",width:100,click:function(){t.saveForm()}},{view:"button",value:"Cancel",width:100,click:function(){t.getRoot().hide()}},{}]}]}}},e.prototype.init=function(){var t=this;this.translationsForm=this.$$("translationsForm"),this.wordForm=this.$$("wordForm"),this.addWordForm=this.$$("addWordForm"),this.btnAddTranslation=$$("addTranslation"),this.findAllCombo().forEach(function(e,n){t.onComboChange(e,n)})},e.prototype.findAllCombo=function(){return this.$$("addWordForm").queryView({view:"combo",label:"Language"},"all")},e.prototype.onComboChange=function(t,e){var n=this;t.attachEvent("onChange",function(t,r){var i=n.findAllCombo().slice(),a=s({},o.a.data.pull);i.splice(e,1),i.forEach(function(e){return n.setOptions(e,a,t,r)})})},e.prototype.removeSelectedLangs=function(){var t=s({},o.a.data.pull);return this.findAllCombo().forEach(function(e){var n=e.getValue();delete t[n]}),Object.keys(t).map(function(e){return t[e]})},e.prototype.showWindow=function(t){this.$$("groupId").setValue(t),this.getRoot().show();var e=webix.uid();this.$$("wordId").setValue(e),this.$$("id").setValue(e)},e.prototype.addTranslation=function(){var t=this.translationsForm.getChildViews(),e=t[t.length-1];webix.ui({width:140},e,this.btnAddTranslation);var n=this.translationsForm.getChildViews().length-1,r=this.removeSelectedLangs();this.translationsForm.addView(this.mainRow(n,r));var o=this.findAllCombo();this.onComboChange(o[n],n)},e.prototype.saveForm=function(){for(var t=this.wordForm.getValues(),e=this.translationsForm.getChildViews().length-1,n=this.translationsForm.getValues(),r=[],o=1;o<e;o++){var s={word:n["translation"+o],languageId:n["language"+o]};r.push(s)}var a={word:t,translations:r};this.wordForm.validate()&&(i.a.add(a),this.hideWindow())},e.prototype.hideWindow=function(){this.wordForm.clearValidation(),this.translationsForm.clearValidation(),this.wordForm.clear(),this.translationsForm.clear(),this.addWordForm.hide()},e.prototype.setOptions=function(t,e,n,r){var o=t.getList().serialize();if(r){var i=e[r];o.push(i)}var s=o.indexOf(o.find(function(t){return t.id===n}));o.splice(s,1),t.define("options",o),t.refresh()},e}(r.c);e.default=a},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(1),i=n(5);var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){var t=this;return{view:"window",localId:"formPopup",position:"center",head:"Choose the language",body:{view:"form",localId:"chooseLangForm",margin:10,paddingY:20,elements:[{localId:"chooseLang",view:"combo",name:"language"},{view:"button",value:"Choose",type:"form",click:function(e){var n=$$(e).getParentView().getValues();t.createTest(n.language)}}]}}},e.prototype.init=function(){this.formPopup=this.$$("formPopup"),this.groupId=this._data.id},e.prototype.showWindow=function(t){this.$$("chooseLang").define("options",t),this.getRoot().show()},e.prototype.shuffle=function(t){for(var e=[],n=t.length;n;){var r=Math.floor(Math.random()*t.length);r in t&&(e.push(t[r]),delete t[r],n--)}return e},e.prototype.createTest=function(t){var e=this;this.score=0;var n=this.groupId;o.a.waitData.then(function(){var r=o.a.find(function(t){return t.groupId===n});r=r.filter(function(e){return!!e.translations.find(function(e){return e.languageId===t})});var i=o.a.serialize(),s=[];i.forEach(function(e){var n=e.translations.find(function(e){return e.languageId===t});n&&(s.push(n),n.partOfSpeech=e.partOfSpeech)}),(r=e.shuffle(r)).length>10&&r.splice(r[10],r.length-10),e.wordsList=r,e.translationsArr=s,e.showQuestion(0,r,s)})},e.prototype.showQuestion=function(t,e,n){if(t<e.length){var r=e[t],o=n.find(function(t){return t.wordId===r.id}),i=n.filter(function(t){return t.partOfSpeech===r.partOfSpeech&&t.wordId!=r.id});i.length>3&&i.splice(i[3],i.length-3),i.push(o),i=this.shuffle(i);var s=t>0?"translationsButtons":"chooseLangForm";this.changeButtons(t,s,i),this.formPopup.getHead().setHTML(r.word),this.$$("currentWordId").setValue(r.id)}else this.saveResults(),this.showResults(),this.formPopup.getHead().setHTML("Your result")},e.prototype.setTranslations=function(t,e){var n=this,r=[];return t.forEach(function(t){r.push({view:"button",value:t.word,type:"form",autowidth:!0,click:function(){n.answerAction(t,e)}})}),r},e.prototype.answerAction=function(t,e){var n=this.$$("currentWordId").getValue();t.wordId===n&&("Noun"===t.partOfSpeech||"Verb"===t.partOfSpeech?this.score+=2:this.score+=1),this.showQuestion(++e,this.wordsList,this.translationsArr)},e.prototype.changeButtons=function(t,e,n){webix.ui({view:"form",localId:"translationsButtons",borderless:!0,type:"clean",elements:[{view:"text",localId:"currentWordId",hidden:!0},{margin:10,padding:10,cols:this.setTranslations(n,t)}]},this.formPopup,this.$$(e))},e.prototype.showResults=function(){var t=this;webix.ui({padding:30,margin:15,rows:[{template:this.score,borderless:!0,css:"center"},{view:"button",value:"Ok",type:"form",width:100,click:function(){t.formPopup.hide(),t._parent.refresh()}}]},this.formPopup,this.$$("translationsButtons"))},e.prototype.saveResults=function(){var t={passedDate:new Date,groupId:this.groupId,score:this.score};i.a.add(t)},e}(r.c);e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(3);var i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){var t=this;return{cols:[{},{rows:[{},{view:"form",localId:"loginForm",width:300,elements:[{view:"text",label:"Username",name:"email"},{view:"text",type:"password",label:"Password",name:"password"},{margin:5,cols:[{view:"button",localId:"loginBtn",value:"Login",type:"form"},{view:"button",value:"Cancel"}]}]},{view:"button",value:"Create an account",click:function(){t.show("/register")}},{}]},{}]}},e.prototype.init=function(){var t=this;this.$$("loginBtn").attachEvent("onItemClick",function(){var e=t.$$("loginForm").getValues();(new o.a).login(e).then(function(e){e?t.show("/home/main"):webix.message(e)})})},e}(r.c);e.default=i},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(2),i=n(1),s=n(8);var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){var t=this,e=this.app.getService("locale")._,n={view:"datatable",select:!0,localId:"wordsList",columns:[{id:"word",fillspace:1,header:"Word"},{id:"partOfSpeech",fillspace:1,header:"POS"},{id:"removeCol",header:"Remove",css:"center",width:70,template:"{common.trashIcon()}"}],onClick:{"wxi-trash":function(e,n){webix.confirm({text:"Remove word?",callback:function(e){return e&&(i.a.remove(n),t.$$("wordsList").remove(n)),!1}})}}},r={view:"button",value:e("Export_words"),width:150,click:function(){webix.toExcel(t.$$("wordsList"))}};return{rows:[n,{cols:[{view:"button",type:"form",value:e("Test"),width:100,click:function(){t.createTest()}},{},r]}]}},e.prototype.init=function(){var t=this;this.testPopup=this.ui(s.default),webix.promise.all([i.a,o.a]).then(function(e){var n=t.getParam("id",!0),r=t.$$("wordsList"),s=i.a.find(function(t){return t.groupId==n}),a=[],u=[];s=s.map(function(t){return t.translations.forEach(function(e){var n=o.a.getItem(e.languageId),r=n.value;return-1==a.indexOf(r)&&(a.push(r),u.push(n)),t[r]=e.word,e}),t}),t.langsList=u,t.addColums(a,r),r.parse(s)})},e.prototype.addColums=function(t,e){var n=webix.toArray(e.config.columns);t.forEach(function(e,r){n.insertAt({id:t[r],header:t[r],fillspace:1},r+1)}),e.refreshColumns()},e.prototype.createTest=function(){this.testPopup.showWindow(this.langsList)},e}(r.c);e.default=a},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(3);var i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){var t=this,e=this.app.getService("locale").getLang(),n=this.app.getService("locale")._;return{type:"clean",paddingX:5,css:"app_layout",cols:[{paddingX:5,paddingY:10,rows:[{css:"webix_shadow_medium",rows:[{type:"header",template:this.app.config.name,css:"webix_header app_header"},{view:"menu",id:"top:menu",css:"app_menu",width:180,layout:"y",select:!0,template:'<span class="webix_icon #icon#"></span> #value# ',value:"Home",data:[{value:n("Home"),id:"main",icon:"fas fa-home"},{value:n("Profile"),id:"profile",icon:"fas fa-user"}]},{view:"button",localId:"logoutBtn",value:n("Logout"),type:"form"}]}]},{view:"resizer",width:5},{type:"clean",rows:[{height:10},{height:30,cols:[{},{view:"segmented",multiview:!0,value:e,name:"lang",width:80,options:[{id:"en",value:"EN",width:40},{id:"ru",value:"RU",width:40}],click:function(){return t.toggleLanguage()}}]},{type:"wide",paddingY:10,paddingX:5,rows:[{$subview:!0}]}]}]}},e.prototype.init=function(){var t=this;this.use(r.d.Menu,"top:menu");var e=new o.a;this.$$("logoutBtn").attachEvent("onItemClick",function(){var n=t.app;e.logout().then(function(t){t&&n.show("/index")})})},e.prototype.toggleLanguage=function(){var t=this.app.getService("locale"),e=this.getRoot().queryView({name:"lang"}).getValue();t.setLang(e)},e}(r.c);e.default=i},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(4),i=n(6),s=n(7);var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){var t=this,e=this.app.getService("locale")._;return{rows:[{view:"datatable",id:"groupList",select:!0,columns:[{id:"_id",hidden:!0},{id:"groupName",sort:"text",fillspace:3,header:"Name"},{id:"words",sort:"int",fillspace:1,minWidth:50,css:"center",header:"Count"},{id:"creationDate",width:80,header:"Created",format:webix.Date.dateToStr("%d %M")},{id:"viewCol",header:"View",css:"center",width:50,template:'<i class="fas fa-eye"></i>'},{header:"Add",css:"center",width:50,template:'<i class="fas fa-plus"></i>'},{id:"removeCol",header:"Remove",css:"center",width:70,template:"{common.trashIcon()}"}],onClick:{"fa-eye":function(e,n){t.show("/home/group?id="+n)},"fa-plus":function(e,n){t.addWord.showWindow(n)},"wxi-trash":function(t,e){webix.confirm({text:"Remove group?",callback:function(t){return t&&o.a.remove(e),!1}})}}},{view:"button",id:"addGroup",value:e("Add_group"),type:"form",inputWidth:100,click:function(){t.addGroup.showWindow()}}]}},e.prototype.init=function(){this.addGroup=this.ui(i.default),this.addWord=this.ui(s.default),$$("groupList").parse(o.a)},e}(r.c);e.default=a},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(5);var i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){return{rows:[{view:"datatable",localId:"testResults",columns:[{id:"rating",header:"Rating",minWidth:80},{id:"groupId",header:"Group",template:"#groupId.groupName#",fillspace:1,minWidth:120},{id:"score",header:"Result",minWidth:80},{id:"passedDate",header:"Date",format:webix.Date.dateToStr("%d %M"),width:80}],data:[]},{view:"button",id:"clearAll",value:"Clear all",type:"form",inputWidth:100}]}},e.prototype.init=function(){var t=this;o.a.waitData.then(function(){var e=1,n=o.a.serialize();n.forEach(function(t,n,r){if(n>0){var o=r[n-1];t.score>o.score&&(e+=1)}});var r=n.map(function(t,n,r){if(n>0){var o=r[n-1];t.score>o.score&&(e-=1)}return t.rating=e,t}).reverse();t.$$("testResults").parse(r)})},e}(r.c);e.default=i},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(3);var i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){return{cols:[{},{rows:[{},{view:"form",localId:"registerForm",width:300,elements:[{view:"text",label:"Uername",name:"username"},{view:"text",type:"password",label:"Password",name:"password"},{margin:5,cols:[{view:"button",localId:"registerBtn",value:"Register",type:"form"}]}]},{}]},{}]}},e.prototype.init=function(){var t=this;this.$$("registerBtn").attachEvent("onItemClick",function(){var e=t.$$("registerForm").getValues();(new o.a).register(e).then(function(e){e&&t.show("/home/main")})})},e}(r.c);e.default=i},function(t,e,n){"use strict";n.r(e),e.default={template:"Start page",css:"webix_shadow_medium app_start"}},function(t,e,n){"use strict";n.r(e);var r=n(0);var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){return{type:"clean",paddingX:5,css:"app_layout",cols:[{paddingX:5,paddingY:10,rows:[{css:"webix_shadow_medium",rows:[{type:"header",template:this.app.config.name,css:"webix_header app_header"},{view:"menu",id:"top:menu",css:"app_menu",width:180,layout:"y",select:!0,template:"<span class='webix_icon #icon#'></span> #value# ",data:[{value:"Dashboard",id:"start",icon:"wxi-columns"},{value:"Data",id:"data",icon:"wxi-pencil"}]}]}]},{type:"wide",paddingY:10,paddingX:5,rows:[{$subview:!0}]}]}},e.prototype.init=function(){this.use(r.d.Menu,"top:menu")},e}(r.c);e.default=o},function(t,e,n){"use strict";n.r(e),e.default={Home:"Home",Profile:"Profile",Logout:"Logout",Add_group:"Add group",Test:"Test",Export_words:"Export words"}},function(t,e,n){"use strict";n.r(e),e.default={Home:"",Profile:"",Logout:"",Add_group:"",Test:"",Export_words:""}},function(t,e,n){"use strict";n.r(e);var r=n(0),o=new webix.DataCollection({data:[{id:1,title:"The Shawshank Redemption",year:1994,votes:678790,rating:9.2,rank:1},{id:2,title:"The Godfather",year:1972,votes:511495,rating:9.2,rank:2},{id:3,title:"The Godfather: Part II",year:1974,votes:319352,rating:9,rank:3},{id:4,title:"The Good, the Bad and the Ugly",year:1966,votes:213030,rating:8.9,rank:4},{id:5,title:"My Fair Lady",year:1964,votes:533848,rating:8.9,rank:5},{id:6,title:"12 Angry Men",year:1957,votes:164558,rating:8.9,rank:6}]});var i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){return{view:"datatable",autoConfig:!0,css:"webix_shadow_medium"}},e.prototype.init=function(t){t.parse(o)},e}(r.c);e.default=i},function(t,e,n){"use strict";n.r(e);n(21);var r=n(0),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var i=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i={id:"webix-jet-app",version:"1.1.0",router:r.a,debug:!1,start:"/index"};return function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,o({},i,n)))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(r.b);e.default=i,webix.ready(function(){var t=new i;t.use(r.d.Locale),t.attachEvent("app:guard",function(e,n,r){-1!==e.indexOf("/home")&&webix.ajax().get("http://localhost:3000/check").then(function(e){e.json().allowAccess||t.show("/index")},function(e){401==e.status&&t.show("/index")})}),t.render()})},function(t,e,n){},function(t,e,n){var r={"./":9,"./addGroup":6,"./addGroup.js":6,"./addWord":7,"./addWord.js":7,"./createTest":8,"./createTest.js":8,"./data":19,"./data.js":19,"./group":10,"./group.js":10,"./home":11,"./home.js":11,"./index":9,"./index.js":9,"./main":12,"./main.js":12,"./profile":13,"./profile.js":13,"./register":14,"./register.js":14,"./start":15,"./start.js":15,"./top":16,"./top.js":16};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=22},function(t,e,n){var r={"./en":17,"./en.js":17,"./ru":18,"./ru.js":18};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=23}]);